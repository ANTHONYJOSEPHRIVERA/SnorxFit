{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\FICTIA\\\\src\\\\components\\\\NutritionPlan.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { motion } from 'framer-motion';\nimport { ArrowLeft, Utensils, Clock, Flame, Apple, Coffee, Sun, Moon, RefreshCw, X, ThumbsDown, Shuffle } from 'lucide-react';\nimport { nutritionDatabase } from '../data/nutrition';\nimport { findFoods, listCategories } from '../data/nutritionIndex';\nimport { foodCategories } from '../data/foodGallery';\nimport { getRecommendedPlan, calculateDailyCalories, calculateBMR, generateCustomMealPlan } from '../utils/calculations';\nimport { generateVariedRecommendations, getAlternatives, generateMealPlanWithAlternatives } from '../utils/nutritionRecommendations';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NutritionPlan = ({\n  userProfile,\n  onBack = () => {},\n  selectedFoods\n}) => {\n  _s();\n  const [selectedMeal, setSelectedMeal] = useState(null);\n  const [currentNutritionPlan, setCurrentNutritionPlan] = useState(null);\n  const [foodSearch, setFoodSearch] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n  // Estado interno para alimentos añadidos manualmente (por id artificial y macros)\n  const [addedFoods, setAddedFoods] = useState([]); // {id, nombre, calorias, proteina, carbohidratos, grasa_total}\n  const [foodCategory, setFoodCategory] = useState('');\n  const [categories, setCategories] = useState([]);\n\n  // Estados para recomendaciones variadas\n  const [recommendations, setRecommendations] = useState(null);\n  const [rejectedFoods, setRejectedFoods] = useState([]);\n  const [currentMealType, setCurrentMealType] = useState('almuerzo');\n  const [nutritionGoal, setNutritionGoal] = useState('mantenimiento');\n  const [loadingRecommendations, setLoadingRecommendations] = useState(false);\n  const [showRecommendations, setShowRecommendations] = useState(false);\n\n  // Derivar un objeto compatible con generateCustomMealPlan incorporando addedFoods dentro de una categoría virtual\n  const buildSelectedFromAdded = () => {\n    if (addedFoods.length === 0) return selectedFoods || {};\n    // Creamos/inyectamos una categoría virtual 'customAdded'\n    const base = {\n      ...(selectedFoods || {})\n    };\n    base.customAdded = addedFoods.map(f => f.id);\n    return base;\n  };\n  const debounceRef = useRef();\n  useEffect(() => {\n    let active = true;\n    if (debounceRef.current) clearTimeout(debounceRef.current);\n    if (foodSearch.trim().length === 0) {\n      setSearchResults([]);\n      // Aun así si hay categoría seleccionada listamos los primeros\n      if (foodCategory) {\n        (async () => {\n          const res = await findFoods('', 25, {\n            categoria: foodCategory\n          });\n          if (active) setSearchResults(res);\n        })();\n      }\n      return;\n    }\n    debounceRef.current = setTimeout(() => {\n      (async () => {\n        const res = await findFoods(foodSearch, 25, {\n          categoria: foodCategory || undefined\n        });\n        if (active) setSearchResults(res);\n      })();\n    }, 350);\n    return () => {\n      active = false;\n    };\n  }, [foodSearch, foodCategory]);\n\n  // Cargar categorías (solo una vez)\n  useEffect(() => {\n    (async () => {\n      try {\n        const cats = await listCategories();\n        setCategories(cats);\n      } catch {/* ignore */}\n    })();\n  }, []);\n\n  // Restaurar añadidos desde localStorage\n  useEffect(() => {\n    try {\n      const stored = localStorage.getItem('snorx_added_foods');\n      if (stored) setAddedFoods(JSON.parse(stored));\n    } catch {/* ignore */}\n  }, []);\n  // Persistir\n  useEffect(() => {\n    try {\n      localStorage.setItem('snorx_added_foods', JSON.stringify(addedFoods));\n    } catch {/* ignore */}\n  }, [addedFoods]);\n  useEffect(() => {\n    const bmr = calculateBMR(userProfile.weight, userProfile.height, userProfile.age, userProfile.gender);\n    const dailyCalories = calculateDailyCalories(bmr, userProfile.activityLevel);\n    const mergedSelected = buildSelectedFromAdded();\n    if (mergedSelected && Object.keys(mergedSelected).some(cat => mergedSelected[cat].length > 0)) {\n      // Extend foodCategories con categoría virtual si hay añadidos\n      const hasVirtual = foodCategories.some(c => c.id === 'customAdded');\n      if (!hasVirtual && addedFoods.length > 0) {\n        foodCategories.push({\n          id: 'customAdded',\n          name: 'Añadidos Manuales',\n          image: 'https://images.unsplash.com/photo-1600891964092-4316c288032e?q=80&w=1974&auto=format&fit=crop',\n          items: addedFoods.map(f => ({\n            id: f.id,\n            name: f.nombre,\n            icon: '➕',\n            calories: f.calorias || 0,\n            protein: f.proteina || 0,\n            carbs: f.carbohidratos || 0,\n            fat: f.grasa_total || 0\n          }))\n        });\n      } else if (hasVirtual) {\n        // Actualiza items\n        const idx = foodCategories.findIndex(c => c.id === 'customAdded');\n        if (idx !== -1) {\n          foodCategories[idx].items = addedFoods.map(f => ({\n            id: f.id,\n            name: f.nombre,\n            icon: '➕',\n            calories: f.calorias || 0,\n            protein: f.proteina || 0,\n            carbs: f.carbohidratos || 0,\n            fat: f.grasa_total || 0\n          }));\n        }\n      }\n      const customPlan = generateCustomMealPlan(mergedSelected, dailyCalories);\n      setCurrentNutritionPlan(customPlan);\n    } else {\n      const recommendedPlanKey = getRecommendedPlan(0, userProfile.goal);\n      setCurrentNutritionPlan(nutritionDatabase.mealPlans[recommendedPlanKey]);\n    }\n  }, [userProfile, selectedFoods, addedFoods]);\n  if (!currentNutritionPlan) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-700 text-gray-900 dark:text-white\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xl font-semibold\",\n        children: \"Cargando tu plan nutricional...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this);\n  }\n  const getMealIcon = type => {\n    switch (type) {\n      case 'breakfast':\n        return Sun;\n      case 'lunch':\n        return Utensils;\n      case 'snack':\n        return Apple;\n      case 'dinner':\n        return Moon;\n      default:\n        return Utensils;\n    }\n  };\n  const getMealTime = type => {\n    switch (type) {\n      case 'breakfast':\n        return '7:00 - 9:00 AM';\n      case 'lunch':\n        return '12:00 - 2:00 PM';\n      case 'snack':\n        return '4:00 - 5:00 PM';\n      case 'dinner':\n        return '7:00 - 9:00 PM';\n      default:\n        return '';\n    }\n  };\n  const getMealColor = type => {\n    switch (type) {\n      case 'breakfast':\n        return 'from-yellow-500 to-orange-500';\n      case 'lunch':\n        return 'from-green-500 to-teal-500';\n      case 'snack':\n        return 'from-purple-500 to-pink-500';\n      case 'dinner':\n        return 'from-blue-500 to-indigo-500';\n      default:\n        return 'from-gray-500 to-gray-600';\n    }\n  };\n\n  // Funciones para el sistema de recomendaciones variadas\n  const loadRecommendations = async (mealType = currentMealType, goal = nutritionGoal) => {\n    setLoadingRecommendations(true);\n    try {\n      const recs = await generateVariedRecommendations(mealType, goal, rejectedFoods, 3);\n      setRecommendations(recs);\n      setCurrentMealType(mealType);\n      setNutritionGoal(goal);\n      setShowRecommendations(true);\n    } catch (error) {\n      console.error('Error cargando recomendaciones:', error);\n    } finally {\n      setLoadingRecommendations(false);\n    }\n  };\n  const rejectFood = async food => {\n    const newRejected = [...rejectedFoods, food];\n    setRejectedFoods(newRejected);\n\n    // Obtener alternativas para este alimento\n    try {\n      const alternatives = await getAlternatives(food, currentMealType, 3);\n\n      // Actualizar las recomendaciones con las alternativas\n      if (recommendations && alternatives.length > 0) {\n        const updatedRecs = {\n          ...recommendations\n        };\n\n        // Encontrar el grupo al que pertenece este alimento y reemplazar con alternativas\n        Object.keys(updatedRecs.recommendations).forEach(groupId => {\n          const group = updatedRecs.recommendations[groupId];\n          const foodIndex = group.options.findIndex(f => f.nombre === food.nombre || f.nombre_es === food.nombre_es);\n          if (foodIndex !== -1) {\n            // Reemplazar el alimento rechazado con alternativas\n            group.options.splice(foodIndex, 1, ...alternatives.slice(0, 1));\n            if (group.alternativeOptions) {\n              group.alternativeOptions = [...alternatives.slice(1), ...group.alternativeOptions];\n            } else {\n              group.alternativeOptions = alternatives.slice(1);\n            }\n          }\n        });\n        setRecommendations(updatedRecs);\n      }\n    } catch (error) {\n      console.error('Error obteniendo alternativas:', error);\n    }\n  };\n  const addFoodFromRecommendations = food => {\n    const newFood = {\n      id: `rec_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n      nombre: food.nombre_es || food.nombre,\n      calorias: food.calorias || 0,\n      proteina: food.proteina || 0,\n      carbohidratos: food.carbohidratos || 0,\n      grasa_total: food.grasa_total || 0,\n      fibra: food.fibra || 0,\n      azucares: food.azucares || 0\n    };\n    setAddedFoods(prev => [...prev, newFood]);\n  };\n  const shuffleRecommendations = () => {\n    loadRecommendations(currentMealType, nutritionGoal);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 p-4 dark:from-gray-900 dark:via-gray-800 dark:to-gray-700 text-gray-900 dark:text-white\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-4xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(motion.div, {\n        className: \"bg-white/90 backdrop-blur-xl border border-gray-200/50 rounded-3xl p-6 mb-8 shadow-xl dark:bg-gray-800/90 dark:border-gray-700\",\n        initial: {\n          opacity: 0,\n          y: -20\n        },\n        animate: {\n          opacity: 1,\n          y: 0\n        },\n        transition: {\n          duration: 0.6\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(motion.button, {\n              onClick: onBack,\n              className: \"p-3 bg-gray-100 rounded-xl hover:bg-gray-200 transition-colors dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-600 dark:text-gray-300\",\n              whileHover: {\n                scale: 1.05\n              },\n              whileTap: {\n                scale: 0.95\n              },\n              children: /*#__PURE__*/_jsxDEV(ArrowLeft, {\n                className: \"w-5 h-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-2xl font-bold text-gray-900 dark:text-white\",\n                children: \"Plan Nutricional\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600 dark:text-gray-400\",\n                children: currentNutritionPlan.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-right\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600 dark:text-gray-400\",\n              children: \"Calor\\xEDas objetivo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-2xl font-bold text-green-600 dark:text-green-400\",\n              children: [currentNutritionPlan.dailyCalories, \" kcal\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n        className: \"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\",\n        initial: {\n          opacity: 0\n        },\n        animate: {\n          opacity: 1\n        },\n        transition: {\n          duration: 0.6,\n          delay: 0.2\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white/90 backdrop-blur-xl border border-gray-200/50 rounded-2xl p-6 shadow-lg dark:bg-gray-800/90 dark:border-gray-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3 mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(Flame, {\n              className: \"w-5 h-5 text-orange-600 dark:text-orange-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-600 dark:text-gray-400 font-medium\",\n              children: \"Plan Diario\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-2xl font-bold text-gray-900 dark:text-white\",\n            children: [currentNutritionPlan.dailyCalories, \" kcal\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white/90 backdrop-blur-xl border border-gray-200/50 rounded-2xl p-6 shadow-lg dark:bg-gray-800/90 dark:border-gray-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3 mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(Utensils, {\n              className: \"w-5 h-5 text-green-600 dark:text-green-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-600 dark:text-gray-400 font-medium\",\n              children: \"Comidas\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-2xl font-bold text-gray-900 dark:text-white\",\n            children: currentNutritionPlan.meals.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white/90 backdrop-blur-xl border border-gray-200/50 rounded-2xl p-6 shadow-lg dark:bg-gray-800/90 dark:border-gray-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3 mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(Coffee, {\n              className: \"w-5 h-5 text-purple-600 dark:text-purple-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-600 dark:text-gray-400 font-medium\",\n              children: \"Tu BMR\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-2xl font-bold text-gray-900 dark:text-white\",\n            children: [calculateBMR(userProfile.weight, userProfile.height, userProfile.age, userProfile.gender), \" kcal\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n        className: \"space-y-6\",\n        initial: {\n          opacity: 0\n        },\n        animate: {\n          opacity: 1\n        },\n        transition: {\n          duration: 0.6,\n          delay: 0.4\n        },\n        children: currentNutritionPlan.meals.map((meal, index) => {\n          const MealIcon = getMealIcon(meal.type);\n          return /*#__PURE__*/_jsxDEV(motion.div, {\n            className: \"bg-white/90 backdrop-blur-xl border border-gray-200/50 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 dark:bg-gray-800/90 dark:border-gray-700\",\n            initial: {\n              opacity: 0,\n              y: 20\n            },\n            animate: {\n              opacity: 1,\n              y: 0\n            },\n            transition: {\n              duration: 0.5,\n              delay: index * 0.1 + 0.5\n            },\n            whileHover: {\n              scale: 1.01\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `p-3 rounded-xl bg-gradient-to-r ${getMealColor(meal.type)}`,\n                  children: /*#__PURE__*/_jsxDEV(MealIcon, {\n                    className: \"w-6 h-6 text-white\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 319,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 318,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"text-xl font-bold text-gray-900 dark:text-white\",\n                    children: meal.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 322,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center gap-1\",\n                      children: [/*#__PURE__*/_jsxDEV(Clock, {\n                        className: \"w-4 h-4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 325,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: getMealTime(meal.type)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 326,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 324,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center gap-1\",\n                      children: [/*#__PURE__*/_jsxDEV(Flame, {\n                        className: \"w-4 h-4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 329,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: [meal.calories, \" kcal\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 330,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 328,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 323,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(motion.button, {\n                onClick: () => setSelectedMeal(selectedMeal === meal.type ? null : meal.type),\n                className: \"px-4 py-2 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600\",\n                whileHover: {\n                  scale: 1.05\n                },\n                whileTap: {\n                  scale: 0.95\n                },\n                children: selectedMeal === meal.type ? 'Ocultar' : 'Ver Detalles'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600 dark:text-gray-400 mb-4\",\n              children: meal.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n              initial: false,\n              animate: {\n                height: selectedMeal === meal.type ? 'auto' : 0,\n                opacity: selectedMeal === meal.type ? 1 : 0\n              },\n              transition: {\n                duration: 0.3\n              },\n              className: \"overflow-hidden\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"pt-4 border-t border-gray-200 dark:border-gray-700\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-semibold text-gray-900 dark:text-white mb-3\",\n                  children: \"Alimentos incluidos:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 358,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3\",\n                  children: meal.foods.map((food, foodIndex) => /*#__PURE__*/_jsxDEV(motion.div, {\n                    className: \"flex items-center gap-3 p-3 bg-gray-50 rounded-xl dark:bg-gray-700\",\n                    initial: {\n                      opacity: 0,\n                      x: -20\n                    },\n                    animate: {\n                      opacity: 1,\n                      x: 0\n                    },\n                    transition: {\n                      duration: 0.3,\n                      delay: foodIndex * 0.1\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center dark:bg-green-900\",\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-green-600 font-semibold text-sm dark:text-green-300\",\n                        children: \"\\u2713\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 369,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 368,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-gray-700 font-medium dark:text-gray-300\",\n                      children: food\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 371,\n                      columnNumber: 27\n                    }, this)]\n                  }, foodIndex, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 361,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 359,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 17\n            }, this)]\n          }, meal.type, true, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n        className: \"bg-white/90 backdrop-blur-xl border border-gray-200/50 rounded-3xl p-8 mt-8 shadow-xl dark:bg-gray-800/90 dark:border-gray-700\",\n        initial: {\n          opacity: 0,\n          y: 20\n        },\n        animate: {\n          opacity: 1,\n          y: 0\n        },\n        transition: {\n          duration: 0.6,\n          delay: 0.8\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-gray-900 dark:text-white mb-6\",\n          children: \"Resumen Nutricional Diario\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold text-gray-900 dark:text-white mb-4\",\n              children: \"Distribuci\\xF3n de Calor\\xEDas\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3\",\n              children: currentNutritionPlan.meals.map(meal => {\n                const percentage = Math.round(meal.calories / currentNutritionPlan.dailyCalories * 100);\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-gray-600 dark:text-gray-400 capitalize\",\n                    children: meal.type === 'breakfast' ? 'Desayuno' : meal.type === 'lunch' ? 'Almuerzo' : meal.type === 'snack' ? 'Merienda' : 'Cena'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 399,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-24 h-2 bg-gray-200 rounded-full overflow-hidden dark:bg-gray-700\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: `h-full bg-gradient-to-r ${getMealColor(meal.type)} rounded-full`,\n                        style: {\n                          width: `${percentage}%`\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 402,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 401,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm font-bold text-gray-900 dark:text-white w-12\",\n                      children: [percentage, \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 407,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 400,\n                    columnNumber: 23\n                  }, this)]\n                }, meal.type, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 398,\n                  columnNumber: 21\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold text-gray-900 dark:text-white mb-4\",\n              children: \"Recomendaciones\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3 text-sm text-gray-600 dark:text-gray-400\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-start gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-green-500 mt-1\",\n                  children: \"\\u2022\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 419,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Bebe al menos 8 vasos de agua al d\\xEDa\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 420,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 418,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-start gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-green-500 mt-1\",\n                  children: \"\\u2022\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 423,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Come cada 3-4 horas para mantener el metabolismo activo\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 424,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 422,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-start gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-green-500 mt-1\",\n                  children: \"\\u2022\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 427,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Incluye prote\\xEDna en cada comida\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 428,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 426,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-start gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-green-500 mt-1\",\n                  children: \"\\u2022\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 431,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Ajusta las porciones seg\\xFAn tu nivel de hambre\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 432,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 430,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n        className: \"bg-white/90 backdrop-blur-xl border border-gray-200/50 rounded-3xl p-8 mt-8 shadow-xl dark:bg-gray-800/90 dark:border-gray-700\",\n        initial: {\n          opacity: 0,\n          y: 20\n        },\n        animate: {\n          opacity: 1,\n          y: 0\n        },\n        transition: {\n          duration: 0.6,\n          delay: 1.0\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-gray-900 dark:text-white mb-4\",\n          children: \"Buscador de Alimentos (Base CSV + Alias)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 446,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600 dark:text-gray-400 mb-4\",\n          children: \"Ingresa el nombre o alias local (ej: \\\"rocoto\\\", \\\"soltero\\\", \\\"chupe\\\", \\\"cuy\\\") para ver calor\\xEDas y macros b\\xE1sicos (por porci\\xF3n) y a\\xF1adirlos a tu plan.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6 flex flex-col md:flex-row gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            value: foodSearch,\n            onChange: e => setFoodSearch(e.target.value),\n            placeholder: \"Buscar (nombre o alias)...\",\n            className: \"flex-1 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-green-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 451,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: foodCategory,\n            onChange: e => setFoodCategory(e.target.value),\n            className: \"px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-green-500 text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Todas las categor\\xEDas\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 15\n            }, this), categories.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: c.id,\n              children: [c.nombre, \" (\", c.total, \")\"]\n            }, c.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 464,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 457,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 11\n        }, this), foodSearch.trim().length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [searchResults.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-500 dark:text-gray-400 text-sm\",\n            children: \"Sin resultados.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 471,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"max-h-96 overflow-y-auto divide-y divide-gray-200 dark:divide-gray-700\",\n            children: searchResults.map(item => {\n              var _item$calorias, _item$proteina, _item$carbohidratos, _item$grasa_total;\n              const already = addedFoods.some(f => f.id === `csv_${item.id}`);\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"py-3 flex flex-col md:flex-row md:items-center md:justify-between gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"font-semibold text-gray-900 dark:text-gray-100\",\n                    children: item.nombre_es || item.nombre\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 479,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-gray-500 dark:text-gray-400\",\n                    children: [\"Porci\\xF3n: \", item.porcion || '—']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 480,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-[10px] text-gray-400 dark:text-gray-500 uppercase tracking-wide\",\n                    children: item.categoria\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 481,\n                    columnNumber: 25\n                  }, this), already && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-xs text-green-600 dark:text-green-400 font-medium\",\n                    children: \"A\\xF1adido\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 482,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 478,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex flex-wrap gap-2 text-xs items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"px-2 py-1 rounded bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300\",\n                    children: [\"Cal: \", (_item$calorias = item.calorias) !== null && _item$calorias !== void 0 ? _item$calorias : '—']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 485,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"px-2 py-1 rounded bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300\",\n                    children: [\"Prot: \", (_item$proteina = item.proteina) !== null && _item$proteina !== void 0 ? _item$proteina : '—', \" g\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 486,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"px-2 py-1 rounded bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300\",\n                    children: [\"Carb: \", (_item$carbohidratos = item.carbohidratos) !== null && _item$carbohidratos !== void 0 ? _item$carbohidratos : '—', \" g\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 487,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"px-2 py-1 rounded bg-pink-100 text-pink-700 dark:bg-pink-900 dark:text-pink-300\",\n                    children: [\"Grasa: \", (_item$grasa_total = item.grasa_total) !== null && _item$grasa_total !== void 0 ? _item$grasa_total : '—', \" g\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 488,\n                    columnNumber: 25\n                  }, this), item.fibra != null && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"px-2 py-1 rounded bg-purple-100 text-purple-700 dark:bg-purple-900 dark:text-purple-300\",\n                    children: [\"Fibra: \", item.fibra, \" g\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 490,\n                    columnNumber: 27\n                  }, this), item.azucares != null && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"px-2 py-1 rounded bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-300\",\n                    children: [\"Az\\xFAcares: \", item.azucares, \" g\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 493,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    disabled: already,\n                    onClick: () => setAddedFoods(prev => [...prev, {\n                      id: `csv_${item.id}`,\n                      nombre: item.nombre_es || item.nombre,\n                      calorias: item.calorias,\n                      proteina: item.proteina,\n                      carbohidratos: item.carbohidratos,\n                      grasa_total: item.grasa_total\n                    }]),\n                    className: `ml-2 px-3 py-1 rounded-lg text-xs font-semibold transition ${already ? 'bg-green-200 text-green-700 dark:bg-green-800 dark:text-green-300 cursor-not-allowed' : 'bg-green-500 text-white hover:bg-green-600'}`,\n                    children: already ? 'Añadido' : 'Añadir'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 495,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 484,\n                  columnNumber: 23\n                }, this)]\n              }, item.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 473,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 13\n        }, this), addedFoods.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\",\n            children: \"Alimentos a\\xF1adidos al plan:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 516,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap gap-2\",\n            children: addedFoods.map(f => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-1 bg-green-100 dark:bg-green-800 text-green-700 dark:text-green-200 px-2 py-1 rounded-lg text-xs\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: f.nombre\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 520,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setAddedFoods(prev => prev.filter(x => x.id !== f.id)),\n                className: \"text-red-500 hover:text-red-600 dark:text-red-400 dark:hover:text-red-300 ml-1\",\n                title: \"Quitar\",\n                children: \"\\xD7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 521,\n                columnNumber: 21\n              }, this)]\n            }, f.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 519,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 517,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 515,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 440,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 234,\n    columnNumber: 5\n  }, this);\n};\n_s(NutritionPlan, \"KEEiAXgRSzdrHJHcOShQOzZO5ys=\");\n_c = NutritionPlan;\nexport default NutritionPlan;\nvar _c;\n$RefreshReg$(_c, \"NutritionPlan\");","map":{"version":3,"names":["React","useState","useEffect","useRef","motion","ArrowLeft","Utensils","Clock","Flame","Apple","Coffee","Sun","Moon","RefreshCw","X","ThumbsDown","Shuffle","nutritionDatabase","findFoods","listCategories","foodCategories","getRecommendedPlan","calculateDailyCalories","calculateBMR","generateCustomMealPlan","generateVariedRecommendations","getAlternatives","generateMealPlanWithAlternatives","jsxDEV","_jsxDEV","NutritionPlan","userProfile","onBack","selectedFoods","_s","selectedMeal","setSelectedMeal","currentNutritionPlan","setCurrentNutritionPlan","foodSearch","setFoodSearch","searchResults","setSearchResults","addedFoods","setAddedFoods","foodCategory","setFoodCategory","categories","setCategories","recommendations","setRecommendations","rejectedFoods","setRejectedFoods","currentMealType","setCurrentMealType","nutritionGoal","setNutritionGoal","loadingRecommendations","setLoadingRecommendations","showRecommendations","setShowRecommendations","buildSelectedFromAdded","length","base","customAdded","map","f","id","debounceRef","active","current","clearTimeout","trim","res","categoria","setTimeout","undefined","cats","stored","localStorage","getItem","JSON","parse","setItem","stringify","bmr","weight","height","age","gender","dailyCalories","activityLevel","mergedSelected","Object","keys","some","cat","hasVirtual","c","push","name","image","items","nombre","icon","calories","calorias","protein","proteina","carbs","carbohidratos","fat","grasa_total","idx","findIndex","customPlan","recommendedPlanKey","goal","mealPlans","className","children","fileName","_jsxFileName","lineNumber","columnNumber","getMealIcon","type","getMealTime","getMealColor","loadRecommendations","mealType","recs","error","console","rejectFood","food","newRejected","alternatives","updatedRecs","forEach","groupId","group","foodIndex","options","nombre_es","splice","slice","alternativeOptions","addFoodFromRecommendations","newFood","Date","now","Math","random","toString","substr","fibra","azucares","prev","shuffleRecommendations","div","initial","opacity","y","animate","transition","duration","button","onClick","whileHover","scale","whileTap","delay","meals","meal","index","MealIcon","description","foods","x","percentage","round","style","width","value","onChange","e","target","placeholder","total","item","_item$calorias","_item$proteina","_item$carbohidratos","_item$grasa_total","already","porcion","disabled","filter","title","_c","$RefreshReg$"],"sources":["C:/xampp/htdocs/FICTIA/src/components/NutritionPlan.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { motion } from 'framer-motion';\nimport { ArrowLeft, Utensils, Clock, Flame, Apple, Coffee, Sun, Moon, RefreshCw, X, ThumbsDown, Shuffle } from 'lucide-react';\nimport { nutritionDatabase } from '../data/nutrition';\nimport { findFoods, listCategories } from '../data/nutritionIndex';\nimport { foodCategories } from '../data/foodGallery';\nimport { getRecommendedPlan, calculateDailyCalories, calculateBMR, generateCustomMealPlan } from '../utils/calculations';\nimport { generateVariedRecommendations, getAlternatives, generateMealPlanWithAlternatives } from '../utils/nutritionRecommendations';\n\nconst NutritionPlan = ({ userProfile, onBack = () => {}, selectedFoods }) => {\n  const [selectedMeal, setSelectedMeal] = useState(null);\n  const [currentNutritionPlan, setCurrentNutritionPlan] = useState(null);\n  const [foodSearch, setFoodSearch] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n  // Estado interno para alimentos añadidos manualmente (por id artificial y macros)\n  const [addedFoods, setAddedFoods] = useState([]); // {id, nombre, calorias, proteina, carbohidratos, grasa_total}\n  const [foodCategory, setFoodCategory] = useState('');\n  const [categories, setCategories] = useState([]);\n  \n  // Estados para recomendaciones variadas\n  const [recommendations, setRecommendations] = useState(null);\n  const [rejectedFoods, setRejectedFoods] = useState([]);\n  const [currentMealType, setCurrentMealType] = useState('almuerzo');\n  const [nutritionGoal, setNutritionGoal] = useState('mantenimiento');\n  const [loadingRecommendations, setLoadingRecommendations] = useState(false);\n  const [showRecommendations, setShowRecommendations] = useState(false);\n\n  // Derivar un objeto compatible con generateCustomMealPlan incorporando addedFoods dentro de una categoría virtual\n  const buildSelectedFromAdded = () => {\n    if (addedFoods.length === 0) return selectedFoods || {};\n    // Creamos/inyectamos una categoría virtual 'customAdded'\n    const base = { ...(selectedFoods || {}) };\n    base.customAdded = addedFoods.map(f => f.id);\n    return base;\n  };\n\n  const debounceRef = useRef();\n  useEffect(() => {\n    let active = true;\n    if (debounceRef.current) clearTimeout(debounceRef.current);\n    if (foodSearch.trim().length === 0) {\n      setSearchResults([]);\n      // Aun así si hay categoría seleccionada listamos los primeros\n      if (foodCategory) {\n        (async () => {\n          const res = await findFoods('', 25, { categoria: foodCategory });\n          if (active) setSearchResults(res);\n        })();\n      }\n      return;\n    }\n    debounceRef.current = setTimeout(() => {\n      (async () => {\n        const res = await findFoods(foodSearch, 25, { categoria: foodCategory || undefined });\n        if (active) setSearchResults(res);\n      })();\n    }, 350);\n    return () => { active = false; };\n  }, [foodSearch, foodCategory]);\n\n  // Cargar categorías (solo una vez)\n  useEffect(()=>{\n    (async () => { try { const cats = await listCategories(); setCategories(cats); } catch {/* ignore */} })();\n  }, []);\n\n  // Restaurar añadidos desde localStorage\n  useEffect(()=>{\n    try {\n      const stored = localStorage.getItem('snorx_added_foods');\n      if (stored) setAddedFoods(JSON.parse(stored));\n    } catch {/* ignore */}\n  }, []);\n  // Persistir\n  useEffect(()=>{\n    try { localStorage.setItem('snorx_added_foods', JSON.stringify(addedFoods)); } catch {/* ignore */}\n  }, [addedFoods]);\n\n  useEffect(() => {\n    const bmr = calculateBMR(userProfile.weight, userProfile.height, userProfile.age, userProfile.gender);\n    const dailyCalories = calculateDailyCalories(bmr, userProfile.activityLevel);\n    const mergedSelected = buildSelectedFromAdded();\n    if (mergedSelected && Object.keys(mergedSelected).some(cat => mergedSelected[cat].length > 0)) {\n      // Extend foodCategories con categoría virtual si hay añadidos\n      const hasVirtual = foodCategories.some(c => c.id === 'customAdded');\n      if (!hasVirtual && addedFoods.length > 0) {\n        foodCategories.push({\n          id: 'customAdded',\n            name: 'Añadidos Manuales',\n            image: 'https://images.unsplash.com/photo-1600891964092-4316c288032e?q=80&w=1974&auto=format&fit=crop',\n            items: addedFoods.map(f => ({\n              id: f.id,\n              name: f.nombre,\n              icon: '➕',\n              calories: f.calorias || 0,\n              protein: f.proteina || 0,\n              carbs: f.carbohidratos || 0,\n              fat: f.grasa_total || 0\n            }))\n        });\n      } else if (hasVirtual) {\n        // Actualiza items\n        const idx = foodCategories.findIndex(c => c.id === 'customAdded');\n        if (idx !== -1) {\n          foodCategories[idx].items = addedFoods.map(f => ({\n            id: f.id,\n            name: f.nombre,\n            icon: '➕',\n            calories: f.calorias || 0,\n            protein: f.proteina || 0,\n            carbs: f.carbohidratos || 0,\n            fat: f.grasa_total || 0\n          }));\n        }\n      }\n      const customPlan = generateCustomMealPlan(mergedSelected, dailyCalories);\n      setCurrentNutritionPlan(customPlan);\n    } else {\n      const recommendedPlanKey = getRecommendedPlan(0, userProfile.goal);\n      setCurrentNutritionPlan(nutritionDatabase.mealPlans[recommendedPlanKey]);\n    }\n  }, [userProfile, selectedFoods, addedFoods]);\n\n  if (!currentNutritionPlan) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-700 text-gray-900 dark:text-white\">\n        <p className=\"text-xl font-semibold\">Cargando tu plan nutricional...</p>\n      </div>\n    );\n  }\n\n  const getMealIcon = (type) => {\n    switch (type) {\n      case 'breakfast': return Sun;\n      case 'lunch': return Utensils;\n      case 'snack': return Apple;\n      case 'dinner': return Moon;\n      default: return Utensils;\n    }\n  };\n\n  const getMealTime = (type) => {\n    switch (type) {\n      case 'breakfast': return '7:00 - 9:00 AM';\n      case 'lunch': return '12:00 - 2:00 PM';\n      case 'snack': return '4:00 - 5:00 PM';\n      case 'dinner': return '7:00 - 9:00 PM';\n      default: return '';\n    }\n  };\n\n  const getMealColor = (type) => {\n    switch (type) {\n      case 'breakfast': return 'from-yellow-500 to-orange-500';\n      case 'lunch': return 'from-green-500 to-teal-500';\n      case 'snack': return 'from-purple-500 to-pink-500';\n      case 'dinner': return 'from-blue-500 to-indigo-500';\n      default: return 'from-gray-500 to-gray-600';\n    }\n  };\n\n  // Funciones para el sistema de recomendaciones variadas\n  const loadRecommendations = async (mealType = currentMealType, goal = nutritionGoal) => {\n    setLoadingRecommendations(true);\n    try {\n      const recs = await generateVariedRecommendations(mealType, goal, rejectedFoods, 3);\n      setRecommendations(recs);\n      setCurrentMealType(mealType);\n      setNutritionGoal(goal);\n      setShowRecommendations(true);\n    } catch (error) {\n      console.error('Error cargando recomendaciones:', error);\n    } finally {\n      setLoadingRecommendations(false);\n    }\n  };\n\n  const rejectFood = async (food) => {\n    const newRejected = [...rejectedFoods, food];\n    setRejectedFoods(newRejected);\n    \n    // Obtener alternativas para este alimento\n    try {\n      const alternatives = await getAlternatives(food, currentMealType, 3);\n      \n      // Actualizar las recomendaciones con las alternativas\n      if (recommendations && alternatives.length > 0) {\n        const updatedRecs = { ...recommendations };\n        \n        // Encontrar el grupo al que pertenece este alimento y reemplazar con alternativas\n        Object.keys(updatedRecs.recommendations).forEach(groupId => {\n          const group = updatedRecs.recommendations[groupId];\n          const foodIndex = group.options.findIndex(f => \n            f.nombre === food.nombre || f.nombre_es === food.nombre_es\n          );\n          \n          if (foodIndex !== -1) {\n            // Reemplazar el alimento rechazado con alternativas\n            group.options.splice(foodIndex, 1, ...alternatives.slice(0, 1));\n            if (group.alternativeOptions) {\n              group.alternativeOptions = [...alternatives.slice(1), ...group.alternativeOptions];\n            } else {\n              group.alternativeOptions = alternatives.slice(1);\n            }\n          }\n        });\n        \n        setRecommendations(updatedRecs);\n      }\n    } catch (error) {\n      console.error('Error obteniendo alternativas:', error);\n    }\n  };\n\n  const addFoodFromRecommendations = (food) => {\n    const newFood = {\n      id: `rec_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n      nombre: food.nombre_es || food.nombre,\n      calorias: food.calorias || 0,\n      proteina: food.proteina || 0,\n      carbohidratos: food.carbohidratos || 0,\n      grasa_total: food.grasa_total || 0,\n      fibra: food.fibra || 0,\n      azucares: food.azucares || 0\n    };\n    \n    setAddedFoods(prev => [...prev, newFood]);\n  };\n\n  const shuffleRecommendations = () => {\n    loadRecommendations(currentMealType, nutritionGoal);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 p-4 dark:from-gray-900 dark:via-gray-800 dark:to-gray-700 text-gray-900 dark:text-white\">\n      <div className=\"max-w-4xl mx-auto\">\n        {/* Header */}\n        <motion.div\n          className=\"bg-white/90 backdrop-blur-xl border border-gray-200/50 rounded-3xl p-6 mb-8 shadow-xl dark:bg-gray-800/90 dark:border-gray-700\"\n          initial={{ opacity: 0, y: -20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6 }}\n        >\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-4\">\n              <motion.button\n                onClick={onBack}\n                className=\"p-3 bg-gray-100 rounded-xl hover:bg-gray-200 transition-colors dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-600 dark:text-gray-300\"\n                whileHover={{ scale: 1.05 }}\n                whileTap={{ scale: 0.95 }}\n              >\n                <ArrowLeft className=\"w-5 h-5\" />\n              </motion.button>\n              <div>\n                <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">Plan Nutricional</h1>\n                <p className=\"text-gray-600 dark:text-gray-400\">{currentNutritionPlan.name}</p>\n              </div>\n            </div>\n            <div className=\"text-right\">\n              <p className=\"text-sm text-gray-600 dark:text-gray-400\">Calorías objetivo</p>\n              <p className=\"text-2xl font-bold text-green-600 dark:text-green-400\">{currentNutritionPlan.dailyCalories} kcal</p>\n            </div>\n          </div>\n        </motion.div>\n\n        {/* Nutrition Stats */}\n        <motion.div\n          className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\"\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          transition={{ duration: 0.6, delay: 0.2 }}\n        >\n          <div className=\"bg-white/90 backdrop-blur-xl border border-gray-200/50 rounded-2xl p-6 shadow-lg dark:bg-gray-800/90 dark:border-gray-700\">\n            <div className=\"flex items-center gap-3 mb-2\">\n              <Flame className=\"w-5 h-5 text-orange-600 dark:text-orange-400\" />\n              <span className=\"text-gray-600 dark:text-gray-400 font-medium\">Plan Diario</span>\n            </div>\n            <p className=\"text-2xl font-bold text-gray-900 dark:text-white\">{currentNutritionPlan.dailyCalories} kcal</p>\n          </div>\n          \n          <div className=\"bg-white/90 backdrop-blur-xl border border-gray-200/50 rounded-2xl p-6 shadow-lg dark:bg-gray-800/90 dark:border-gray-700\">\n            <div className=\"flex items-center gap-3 mb-2\">\n              <Utensils className=\"w-5 h-5 text-green-600 dark:text-green-400\" />\n              <span className=\"text-gray-600 dark:text-gray-400 font-medium\">Comidas</span>\n            </div>\n            <p className=\"text-2xl font-bold text-gray-900 dark:text-white\">{currentNutritionPlan.meals.length}</p>\n          </div>\n          \n          <div className=\"bg-white/90 backdrop-blur-xl border border-gray-200/50 rounded-2xl p-6 shadow-lg dark:bg-gray-800/90 dark:border-gray-700\">\n            <div className=\"flex items-center gap-3 mb-2\">\n              <Coffee className=\"w-5 h-5 text-purple-600 dark:text-purple-400\" />\n              <span className=\"text-gray-600 dark:text-gray-400 font-medium\">Tu BMR</span>\n            </div>\n            <p className=\"text-2xl font-bold text-gray-900 dark:text-white\">{calculateBMR(userProfile.weight, userProfile.height, userProfile.age, userProfile.gender)} kcal</p>\n          </div>\n        </motion.div>\n\n        {/* Meal Plan */}\n        <motion.div\n          className=\"space-y-6\"\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          transition={{ duration: 0.6, delay: 0.4 }}\n        >\n          {currentNutritionPlan.meals.map((meal, index) => {\n            const MealIcon = getMealIcon(meal.type);\n            \n            return (\n              <motion.div\n                key={meal.type}\n                className=\"bg-white/90 backdrop-blur-xl border border-gray-200/50 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 dark:bg-gray-800/90 dark:border-gray-700\"\n                initial={{ opacity: 0, y: 20 }}\n                animate={{ opacity: 1, y: 0 }}\n                transition={{ duration: 0.5, delay: index * 0.1 + 0.5 }}\n                whileHover={{ scale: 1.01 }}\n              >\n                <div className=\"flex items-center justify-between mb-4\">\n                  <div className=\"flex items-center gap-4\">\n                    <div className={`p-3 rounded-xl bg-gradient-to-r ${getMealColor(meal.type)}`}>\n                      <MealIcon className=\"w-6 h-6 text-white\" />\n                    </div>\n                    <div>\n                      <h3 className=\"text-xl font-bold text-gray-900 dark:text-white\">{meal.name}</h3>\n                      <div className=\"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400\">\n                        <div className=\"flex items-center gap-1\">\n                          <Clock className=\"w-4 h-4\" />\n                          <span>{getMealTime(meal.type)}</span>\n                        </div>\n                        <div className=\"flex items-center gap-1\">\n                          <Flame className=\"w-4 h-4\" />\n                          <span>{meal.calories} kcal</span>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  \n                  <motion.button\n                    onClick={() => setSelectedMeal(selectedMeal === meal.type ? null : meal.type)}\n                    className=\"px-4 py-2 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600\"\n                    whileHover={{ scale: 1.05 }}\n                    whileTap={{ scale: 0.95 }}\n                  >\n                    {selectedMeal === meal.type ? 'Ocultar' : 'Ver Detalles'}\n                  </motion.button>\n                </div>\n\n                <p className=\"text-gray-600 dark:text-gray-400 mb-4\">{meal.description}</p>\n\n                <motion.div\n                  initial={false}\n                  animate={{\n                    height: selectedMeal === meal.type ? 'auto' : 0,\n                    opacity: selectedMeal === meal.type ? 1 : 0\n                  }}\n                  transition={{ duration: 0.3 }}\n                  className=\"overflow-hidden\"\n                >\n                  <div className=\"pt-4 border-t border-gray-200 dark:border-gray-700\">\n                    <h4 className=\"font-semibold text-gray-900 dark:text-white mb-3\">Alimentos incluidos:</h4>\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3\">\n                      {meal.foods.map((food, foodIndex) => (\n                        <motion.div\n                          key={foodIndex}\n                          className=\"flex items-center gap-3 p-3 bg-gray-50 rounded-xl dark:bg-gray-700\"\n                          initial={{ opacity: 0, x: -20 }}\n                          animate={{ opacity: 1, x: 0 }}\n                          transition={{ duration: 0.3, delay: foodIndex * 0.1 }}\n                        >\n                          <div className=\"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center dark:bg-green-900\">\n                            <span className=\"text-green-600 font-semibold text-sm dark:text-green-300\">✓</span>\n                          </div>\n                          <span className=\"text-gray-700 font-medium dark:text-gray-300\">{food}</span>\n                        </motion.div>\n                      ))}\n                    </div>\n                  </div>\n                </motion.div>\n              </motion.div>\n            );\n          })}\n        </motion.div>\n\n        {/* Daily Summary */}\n        <motion.div\n          className=\"bg-white/90 backdrop-blur-xl border border-gray-200/50 rounded-3xl p-8 mt-8 shadow-xl dark:bg-gray-800/90 dark:border-gray-700\"\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6, delay: 0.8 }}\n        >\n          <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-6\">Resumen Nutricional Diario</h2>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n            <div>\n              <h3 className=\"font-semibold text-gray-900 dark:text-white mb-4\">Distribución de Calorías</h3>\n              <div className=\"space-y-3\">\n                {currentNutritionPlan.meals.map((meal) => {\n                  const percentage = Math.round((meal.calories / currentNutritionPlan.dailyCalories) * 100);\n                  return (\n                    <div key={meal.type} className=\"flex items-center justify-between\">\n                      <span className=\"text-gray-600 dark:text-gray-400 capitalize\">{meal.type === 'breakfast' ? 'Desayuno' : meal.type === 'lunch' ? 'Almuerzo' : meal.type === 'snack' ? 'Merienda' : 'Cena'}</span>\n                      <div className=\"flex items-center gap-3\">\n                        <div className=\"w-24 h-2 bg-gray-200 rounded-full overflow-hidden dark:bg-gray-700\">\n                          <div \n                            className={`h-full bg-gradient-to-r ${getMealColor(meal.type)} rounded-full`}\n                            style={{ width: `${percentage}%` }}\n                          />\n                        </div>\n                        <span className=\"text-sm font-bold text-gray-900 dark:text-white w-12\">{percentage}%</span>\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n            \n            <div>\n              <h3 className=\"font-semibold text-gray-900 dark:text-white mb-4\">Recomendaciones</h3>\n              <div className=\"space-y-3 text-sm text-gray-600 dark:text-gray-400\">\n                <div className=\"flex items-start gap-2\">\n                  <span className=\"text-green-500 mt-1\">•</span>\n                  <span>Bebe al menos 8 vasos de agua al día</span>\n                </div>\n                <div className=\"flex items-start gap-2\">\n                  <span className=\"text-green-500 mt-1\">•</span>\n                  <span>Come cada 3-4 horas para mantener el metabolismo activo</span>\n                </div>\n                <div className=\"flex items-start gap-2\">\n                  <span className=\"text-green-500 mt-1\">•</span>\n                  <span>Incluye proteína en cada comida</span>\n                </div>\n                <div className=\"flex items-start gap-2\">\n                  <span className=\"text-green-500 mt-1\">•</span>\n                  <span>Ajusta las porciones según tu nivel de hambre</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </motion.div>\n\n        {/* Food Search (from CSV index) */}\n        <motion.div\n          className=\"bg-white/90 backdrop-blur-xl border border-gray-200/50 rounded-3xl p-8 mt-8 shadow-xl dark:bg-gray-800/90 dark:border-gray-700\"\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6, delay: 1.0 }}\n        >\n          <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-4\">Buscador de Alimentos (Base CSV + Alias)</h2>\n          <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-4\">\n            Ingresa el nombre o alias local (ej: \"rocoto\", \"soltero\", \"chupe\", \"cuy\") para ver calorías y macros básicos (por porción) y añadirlos a tu plan.\n          </p>\n          <div className=\"mb-6 flex flex-col md:flex-row gap-3\">\n            <input\n              value={foodSearch}\n              onChange={(e) => setFoodSearch(e.target.value)}\n              placeholder=\"Buscar (nombre o alias)...\"\n              className=\"flex-1 px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-green-500\"\n            />\n            <select\n              value={foodCategory}\n              onChange={(e)=> setFoodCategory(e.target.value)}\n              className=\"px-4 py-3 rounded-xl bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-green-500 text-sm\"\n            >\n              <option value=\"\">Todas las categorías</option>\n              {categories.map(c => (\n                <option key={c.id} value={c.id}>{c.nombre} ({c.total})</option>\n              ))}\n            </select>\n          </div>\n          {foodSearch.trim().length > 0 && (\n            <div>\n              {searchResults.length === 0 && (\n                <p className=\"text-gray-500 dark:text-gray-400 text-sm\">Sin resultados.</p>\n              )}\n              <div className=\"max-h-96 overflow-y-auto divide-y divide-gray-200 dark:divide-gray-700\">\n                {searchResults.map(item => {\n                  const already = addedFoods.some(f => f.id === `csv_${item.id}`);\n                  return (\n                    <div key={item.id} className=\"py-3 flex flex-col md:flex-row md:items-center md:justify-between gap-2\">\n                      <div>\n                        <p className=\"font-semibold text-gray-900 dark:text-gray-100\">{item.nombre_es || item.nombre}</p>\n                        <p className=\"text-xs text-gray-500 dark:text-gray-400\">Porción: {item.porcion || '—'}</p>\n                        <p className=\"text-[10px] text-gray-400 dark:text-gray-500 uppercase tracking-wide\">{item.categoria}</p>\n                        {already && <span className=\"text-xs text-green-600 dark:text-green-400 font-medium\">Añadido</span>}\n                      </div>\n                      <div className=\"flex flex-wrap gap-2 text-xs items-center\">\n                        <span className=\"px-2 py-1 rounded bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300\">Cal: {item.calorias ?? '—'}</span>\n                        <span className=\"px-2 py-1 rounded bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300\">Prot: {item.proteina ?? '—'} g</span>\n                        <span className=\"px-2 py-1 rounded bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300\">Carb: {item.carbohidratos ?? '—'} g</span>\n                        <span className=\"px-2 py-1 rounded bg-pink-100 text-pink-700 dark:bg-pink-900 dark:text-pink-300\">Grasa: {item.grasa_total ?? '—'} g</span>\n                        {item.fibra != null && (\n                          <span className=\"px-2 py-1 rounded bg-purple-100 text-purple-700 dark:bg-purple-900 dark:text-purple-300\">Fibra: {item.fibra} g</span>\n                        )}\n                        {item.azucares != null && (\n                          <span className=\"px-2 py-1 rounded bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-300\">Azúcares: {item.azucares} g</span>\n                        )}\n                        <button\n                          disabled={already}\n                          onClick={() => setAddedFoods(prev => [...prev, {\n                            id: `csv_${item.id}`,\n                            nombre: item.nombre_es || item.nombre,\n                            calorias: item.calorias,\n                            proteina: item.proteina,\n                            carbohidratos: item.carbohidratos,\n                            grasa_total: item.grasa_total\n                          }])}\n                          className={`ml-2 px-3 py-1 rounded-lg text-xs font-semibold transition ${already ? 'bg-green-200 text-green-700 dark:bg-green-800 dark:text-green-300 cursor-not-allowed' : 'bg-green-500 text-white hover:bg-green-600'}`}\n                        >{already ? 'Añadido' : 'Añadir'}</button>\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          )}\n          {addedFoods.length > 0 && (\n            <div className=\"mt-6\">\n              <h3 className=\"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\">Alimentos añadidos al plan:</h3>\n              <div className=\"flex flex-wrap gap-2\">\n                {addedFoods.map(f => (\n                  <div key={f.id} className=\"flex items-center gap-1 bg-green-100 dark:bg-green-800 text-green-700 dark:text-green-200 px-2 py-1 rounded-lg text-xs\">\n                    <span>{f.nombre}</span>\n                    <button\n                      onClick={() => setAddedFoods(prev => prev.filter(x => x.id !== f.id))}\n                      className=\"text-red-500 hover:text-red-600 dark:text-red-400 dark:hover:text-red-300 ml-1\"\n                      title=\"Quitar\"\n                    >×</button>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n        </motion.div>\n      </div>\n    </div>\n  );\n};\n\nexport default NutritionPlan;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}