{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\FICTIA\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { AuthProvider, useAuth } from './contexts/AuthContext';\nimport AuthScreen from './components/AuthScreen';\nimport LoadingScreen from './components/LoadingScreen';\nimport UserProfileForm from './components/UserProfileForm';\nimport Dashboard from './components/Dashboard';\nimport HomeOverview from './components/HomeOverview';\nimport WorkoutPlan from './components/WorkoutPlan';\nimport NutritionPlan from './components/NutritionPlan';\nimport ProgressTracker from './components/ProgressTracker';\nimport FoodSelection from './components/FoodSelection';\nimport Chatbot from './components/Chatbot';\nimport WeightTracker from './components/WeightTracker';\nimport MoodDiary from './components/MoodDiary';\nimport Report from './components/Report';\nimport RemindersManager from './components/RemindersManager';\nimport PhotoGallery from './components/PhotoGallery';\nimport FoodScanner from './components/FoodScanner';\nimport Settings from './components/Settings';\nimport FoodLog from './components/FoodLog';\nimport AdminDashboard from './components/AdminDashboard';\nimport testApiConnection from './utils/testApi';\nimport { isUserAdmin } from './config/adminConfig'; // Configuraci√≥n de admins\nimport AppLayout from './layout/AppLayout';\nimport { ToastProvider } from './contexts/ToastContext';\nimport { flushQueue } from './utils/offlineQueue';\n// import { weightApi, moodApi, reminderApi } from './services/apiService'; // REMOVIDO - Migrado a Firebase\nimport { calculateBMR, calculateDailyCalories, calculateMacros } from './utils/calculations';\nimport './utils/fixGoalWeight'; // Script para corregir metas de peso il√≥gicas\nimport './utils/recalculateCalories'; // Script para recalcular calor√≠as y macros\nimport { doc, getDoc, setDoc } from 'firebase/firestore';\nimport { db } from './config/firebase';\n\n// Hacer la funci√≥n disponible globalmente para debug\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nif (typeof window !== 'undefined') {\n  window.testApiConnection = testApiConnection;\n}\n\n// Componente principal de la aplicaci√≥n autenticada\nconst AuthenticatedApp = () => {\n  _s();\n  const {\n    user,\n    logout,\n    isOnline\n  } = useAuth();\n  // Sincronizar cola offline cuando volvemos online\n  // TODO: Migrar a Firebase\n  useEffect(() => {\n    if (!isOnline || !user) return;\n    // (async () => {\n    //   await flushQueue({\n    //     'weight:add': async ({ weight, date }) => {\n    //       const r = await weightApi.add(weight); return r.success;\n    //     },\n    //     'mood:add': async ({ mood, note }) => {\n    //       const r = await moodApi.add(mood, note); return r.success;\n    //     },\n    //     'reminder:add': async ({ type, scheduledAt, message }) => {\n    //       const r = await reminderApi.add(type, scheduledAt, message); return r.success;\n    //     }\n    //   });\n    // })();\n  }, [isOnline, user]);\n  const [userProfile, setUserProfile] = useState(null);\n  const [currentView, setCurrentView] = useState('profile');\n  const [recentWeights, setRecentWeights] = useState([]);\n  const [dailyMacros, setDailyMacros] = useState({\n    protein: 0,\n    carbs: 0,\n    fat: 0\n  });\n  const [isDarkMode, setIsDarkMode] = useState(() => {\n    // Cargar preferencia de tema desde localStorage\n    const savedTheme = localStorage.getItem('snorxfit_theme');\n    return savedTheme === 'dark';\n  });\n  const [selectedFoods, setSelectedFoods] = useState({});\n  const [isLoadingProfile, setIsLoadingProfile] = useState(true);\n  useEffect(() => {\n    // Aplicar dark class al elemento html y guardar preferencia\n    if (isDarkMode) {\n      document.documentElement.classList.add('dark');\n      localStorage.setItem('snorxfit_theme', 'dark');\n    } else {\n      document.documentElement.classList.remove('dark');\n      localStorage.setItem('snorxfit_theme', 'light');\n    }\n  }, [isDarkMode]);\n\n  // Cargar macros del d√≠a actual desde localStorage\n  useEffect(() => {\n    const today = new Date().toISOString().split('T')[0];\n    const savedData = localStorage.getItem(`foodLog_${today}`);\n    if (savedData) {\n      const parsed = JSON.parse(savedData);\n      const meals = parsed.meals || {};\n      const allFoods = Object.values(meals).flat();\n      const macros = {\n        protein: allFoods.reduce((sum, food) => sum + (food.protein || 0), 0),\n        carbs: allFoods.reduce((sum, food) => sum + (food.carbs || 0), 0),\n        fat: allFoods.reduce((sum, food) => sum + (food.fat || 0), 0)\n      };\n      setDailyMacros(macros);\n    }\n  }, []);\n\n  // Cargar perfil del usuario desde la API\n  useEffect(() => {\n    const loadUserProfile = async () => {\n      try {\n        setIsLoadingProfile(true);\n        const userId = user.uid || user.id; // Firebase usa uid\n\n        if (!isOnline) {\n          // Fallback a localStorage si no hay internet\n          const savedProfile = localStorage.getItem(`snorxfit_profile_${userId}`);\n          if (savedProfile) {\n            const profile = JSON.parse(savedProfile);\n            setUserProfile(profile);\n            setCurrentView('home');\n          }\n          setIsLoadingProfile(false);\n          return;\n        }\n\n        // ‚úÖ Cargar perfil desde Firebase Firestore\n        console.log('üìä Cargando perfil desde Firebase Firestore...');\n        console.log('üîë User ID:', userId);\n        const userDocRef = doc(db, 'users', userId);\n        const userDocSnap = await getDoc(userDocRef);\n        if (userDocSnap.exists()) {\n          const profile = userDocSnap.data();\n          console.log('‚úÖ Perfil encontrado en Firebase:', {\n            nombre: profile.name,\n            email: profile.email,\n            uid: userId\n          });\n\n          // Verificar si el perfil est√° COMPLETO (tiene los campos necesarios)\n          const isProfileComplete = profile.weight && profile.height && profile.age && profile.goal;\n          console.log('üîç Verificaci√≥n de perfil:', {\n            weight: profile.weight,\n            height: profile.height,\n            age: profile.age,\n            goal: profile.goal,\n            goalWeight: profile.goalWeight,\n            isProfileComplete: isProfileComplete\n          });\n          if (isProfileComplete) {\n            console.log('‚úÖ Perfil completo, cargando dashboard...');\n            setUserProfile(profile);\n\n            // Guardar en localStorage como cach√©\n            localStorage.setItem(`snorxfit_profile_${userId}`, JSON.stringify(profile));\n            setCurrentView('home');\n          } else {\n            console.log('‚ö†Ô∏è Perfil incompleto, mostrando formulario...');\n            console.log('‚ùå Campos faltantes:', {\n              weight: !profile.weight ? 'FALTA' : 'OK',\n              height: !profile.height ? 'FALTA' : 'OK',\n              age: !profile.age ? 'FALTA' : 'OK',\n              goal: !profile.goal ? 'FALTA' : 'OK'\n            });\n            setUserProfile(profile); // Guardar lo que hay para pre-llenar el form\n            setCurrentView('profile');\n          }\n        } else {\n          // Si no existe en Firebase, intentar cargar desde localStorage (usuario antiguo)\n          const savedProfile = localStorage.getItem(`snorxfit_profile_${userId}`);\n          if (savedProfile) {\n            const profile = JSON.parse(savedProfile);\n            const isProfileComplete = profile.weight && profile.height && profile.age && profile.goal;\n            if (isProfileComplete) {\n              setUserProfile(profile);\n              setCurrentView('home');\n              console.log('üì± Perfil completo cargado desde localStorage');\n            } else {\n              setUserProfile(profile);\n              setCurrentView('profile');\n              console.log('üì± Perfil incompleto en localStorage, mostrando formulario');\n            }\n          } else {\n            console.log('üìù No hay perfil, mostrando formulario de creaci√≥n');\n            setCurrentView('profile');\n          }\n        }\n      } catch (error) {\n        console.error('Error cargando perfil:', error);\n        // Fallback a localStorage en caso de error\n        const userId = user.uid || user.id;\n        const savedProfile = localStorage.getItem(`snorxfit_profile_${userId}`);\n        if (savedProfile) {\n          const profile = JSON.parse(savedProfile);\n          setUserProfile(profile);\n          setCurrentView('home');\n        }\n      } finally {\n        setIsLoadingProfile(false);\n      }\n    };\n    if (user) {\n      loadUserProfile();\n    }\n  }, [user, isOnline]);\n\n  // Cargar pesos para HomeOverview\n  useEffect(() => {\n    const loadWeights = async () => {\n      if (!user) return;\n      try {\n        if (isOnline) {\n          const res = await weightApi.list();\n          if (res.success) {\n            const normalized = (res.data || []).map(r => {\n              var _r$recorded_at;\n              return {\n                date: (_r$recorded_at = r.recorded_at) === null || _r$recorded_at === void 0 ? void 0 : _r$recorded_at.substring(0, 10),\n                weight: r.weight_kg\n              };\n            }).filter(e => e.date && e.weight);\n            setRecentWeights(normalized.sort((a, b) => new Date(a.date) - new Date(b.date)).slice(-120));\n            localStorage.setItem(`snorxfit_weights_${user.id}`, JSON.stringify(normalized));\n            return;\n          }\n        }\n        const local = localStorage.getItem(`snorxfit_weights_${user.id}`);\n        if (local) setRecentWeights(JSON.parse(local));\n      } catch {/* ignore */}\n    };\n    loadWeights();\n  }, [user, isOnline]);\n  const toggleDarkMode = () => {\n    setIsDarkMode(!isDarkMode);\n  };\n  const handleProfileSubmit = async profileData => {\n    try {\n      setIsLoadingProfile(true);\n      const userId = user.uid || user.id; // Firebase usa uid\n\n      console.log('üöÄ handleProfileSubmit iniciado');\n      console.log('üë§ User ID:', userId);\n      console.log('üåê isOnline:', isOnline);\n      console.log('üìù profileData recibido:', profileData);\n\n      // Calcular calor√≠as diarias basadas en BMR, actividad y objetivo\n      const bmr = calculateBMR(profileData.weight, profileData.height, profileData.age, profileData.gender);\n      const dailyCalories = calculateDailyCalories(bmr, profileData.activityLevel, profileData.goal);\n      const macros = calculateMacros(dailyCalories, profileData.weight, profileData.goal);\n      const profileWithUserId = {\n        ...profileData,\n        uid: userId,\n        email: user.email,\n        dailyCalories: dailyCalories,\n        // Guardar calor√≠as calculadas\n        dailyMacros: macros,\n        // Guardar macros calculados { protein, carbs, fat }\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString()\n      };\n      if (isOnline) {\n        // ‚úÖ Guardar en Firebase Firestore\n        console.log('üíæ Guardando perfil en Firebase Firestore...');\n        console.log('üì¶ Datos a guardar:', profileWithUserId);\n        const userDocRef = doc(db, 'users', userId);\n        await setDoc(userDocRef, profileWithUserId, {\n          merge: true\n        });\n        console.log('‚úÖ Perfil guardado exitosamente en Firebase:', {\n          nombre: profileWithUserId.name,\n          email: profileWithUserId.email,\n          peso: profileWithUserId.weight,\n          altura: profileWithUserId.height,\n          objetivo: profileWithUserId.goal,\n          metaPeso: profileWithUserId.goalWeight\n        });\n        setUserProfile(profileWithUserId);\n\n        // Tambi√©n guardar en localStorage como cach√©\n        localStorage.setItem(`snorxfit_profile_${userId}`, JSON.stringify(profileWithUserId));\n      } else {\n        // Guardar solo en localStorage si no hay internet\n        console.log('üì± Guardando perfil en localStorage (sin internet)');\n        setUserProfile(profileWithUserId);\n        localStorage.setItem(`snorxfit_profile_${userId}`, JSON.stringify(profileWithUserId));\n      }\n      setCurrentView('foodSelection');\n    } catch (error) {\n      console.error('‚ùå‚ùå‚ùå ERROR CR√çTICO guardando perfil:', error);\n      console.error('‚ùå Error name:', error.name);\n      console.error('‚ùå Error message:', error.message);\n      console.error('‚ùå Error stack:', error.stack);\n      const userId = user.uid || user.id;\n      // Fallback a localStorage en caso de error\n      const fallbackProfile = {\n        ...profileData,\n        uid: userId,\n        email: user.email,\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString()\n      };\n      console.log('üì± Guardando en localStorage como fallback');\n      setUserProfile(fallbackProfile);\n      localStorage.setItem(`snorxfit_profile_${userId}`, JSON.stringify(fallbackProfile));\n      setCurrentView('foodSelection');\n    } finally {\n      setIsLoadingProfile(false);\n    }\n  };\n\n  // Funci√≥n para actualizar perfil (usado en Settings)\n  const handleUpdateProfile = async updatedProfile => {\n    try {\n      const userId = user.uid || user.id;\n\n      // Recalcular calor√≠as diarias si cambi√≥ peso, altura, edad o objetivo\n      const bmr = calculateBMR(updatedProfile.weight, updatedProfile.height, updatedProfile.age, updatedProfile.gender);\n      const dailyCalories = calculateDailyCalories(bmr, updatedProfile.activityLevel, updatedProfile.goal);\n      const macros = calculateMacros(dailyCalories, updatedProfile.weight, updatedProfile.goal);\n      const profileWithUpdates = {\n        ...updatedProfile,\n        uid: userId,\n        email: user.email,\n        dailyCalories: dailyCalories,\n        // Actualizar calor√≠as\n        dailyMacros: macros,\n        // Actualizar macros\n        updatedAt: new Date().toISOString()\n      };\n\n      // Actualizar en Firebase\n      if (isOnline) {\n        console.log('üíæ Actualizando perfil en Firebase...');\n        const userDocRef = doc(db, 'users', userId);\n        await setDoc(userDocRef, profileWithUpdates, {\n          merge: true\n        });\n        console.log('‚úÖ Perfil actualizado en Firebase');\n      }\n\n      // Actualizar en memoria y localStorage\n      setUserProfile(profileWithUpdates);\n      localStorage.setItem(`snorxfit_profile_${userId}`, JSON.stringify(profileWithUpdates));\n    } catch (error) {\n      console.error('‚ùå Error actualizando perfil:', error);\n      // Fallback a localStorage\n      const userId = user.uid || user.id;\n      setUserProfile(updatedProfile);\n      localStorage.setItem(`snorxfit_profile_${userId}`, JSON.stringify(updatedProfile));\n    }\n  };\n  const handleNavigation = view => {\n    setCurrentView(view);\n  };\n  const handleBackToDashboard = () => {\n    setCurrentView('home');\n  };\n  const handleFoodSelectionComplete = foods => {\n    setSelectedFoods(foods);\n    setCurrentView('home');\n  };\n\n  // Mostrar loading mientras se carga el perfil\n  if (isLoadingProfile) {\n    return /*#__PURE__*/_jsxDEV(LoadingScreen, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 12\n    }, this);\n  }\n\n  // Si el usuario es admin (verificar por email), mostrar panel de administrador\n  if (isUserAdmin(user)) {\n    return /*#__PURE__*/_jsxDEV(AdminDashboard, {\n      userProfile: userProfile,\n      onLogout: logout\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 7\n    }, this);\n  }\n  const renderCurrentView = () => {\n    switch (currentView) {\n      case 'profile':\n        return /*#__PURE__*/_jsxDEV(UserProfileForm, {\n          onSubmit: handleProfileSubmit,\n          initialData: userProfile\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 11\n        }, this);\n      case 'home':\n        {\n          // Usar calor√≠as y macros guardados en el perfil\n          const dcal = (userProfile === null || userProfile === void 0 ? void 0 : userProfile.dailyCalories) || 0;\n          const macros = (userProfile === null || userProfile === void 0 ? void 0 : userProfile.dailyMacros) || {\n            protein: 0,\n            carbs: 0,\n            fat: 0\n          };\n          return /*#__PURE__*/_jsxDEV(HomeOverview, {\n            userProfile: userProfile,\n            recentWeights: recentWeights,\n            dailyCalories: dcal,\n            dailyMacros: macros,\n            onNavigate: handleNavigation,\n            onQuickAddWeight: () => handleNavigation('weightTracker'),\n            onOpenScanner: () => handleNavigation('foodScanner'),\n            onRecalculatePlan: () => handleNavigation('nutrition')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 11\n          }, this);\n        }\n      case 'workout':\n        return /*#__PURE__*/_jsxDEV(WorkoutPlan, {\n          userProfile: userProfile,\n          onBack: handleBackToDashboard\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 16\n        }, this);\n      case 'nutrition':\n        return /*#__PURE__*/_jsxDEV(NutritionPlan, {\n          userProfile: userProfile,\n          onBack: handleBackToDashboard,\n          selectedFoods: selectedFoods\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 16\n        }, this);\n      case 'chatbot':\n        return /*#__PURE__*/_jsxDEV(Chatbot, {\n          onBack: handleBackToDashboard\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 16\n        }, this);\n      case 'foodLog':\n        return /*#__PURE__*/_jsxDEV(FoodLog, {\n          userProfile: userProfile,\n          onBack: handleBackToDashboard,\n          onMacrosUpdate: setDailyMacros\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 16\n        }, this);\n      case 'report':\n        return /*#__PURE__*/_jsxDEV(Report, {\n          userProfile: userProfile,\n          recentWeights: recentWeights\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 16\n        }, this);\n      case 'progress':\n        return /*#__PURE__*/_jsxDEV(ProgressTracker, {\n          userProfile: userProfile,\n          onBack: handleBackToDashboard\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 16\n        }, this);\n      case 'foodSelection':\n        return /*#__PURE__*/_jsxDEV(FoodSelection, {\n          onBack: handleBackToDashboard,\n          onSelectFoods: handleFoodSelectionComplete\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 16\n        }, this);\n      case 'weightTracker':\n        return /*#__PURE__*/_jsxDEV(WeightTracker, {\n          userProfile: userProfile,\n          onBack: handleBackToDashboard\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 16\n        }, this);\n      case 'settings':\n        return /*#__PURE__*/_jsxDEV(Settings, {\n          userProfile: userProfile,\n          onBack: handleBackToDashboard,\n          onSaveProfile: handleUpdateProfile\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 16\n        }, this);\n      case 'moodDiary':\n        return /*#__PURE__*/_jsxDEV(MoodDiary, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 16\n        }, this);\n      case 'photos':\n        return /*#__PURE__*/_jsxDEV(PhotoGallery, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 16\n        }, this);\n      case 'reminders':\n        return /*#__PURE__*/_jsxDEV(RemindersManager, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 16\n        }, this);\n      case 'foodScanner':\n        return /*#__PURE__*/_jsxDEV(FoodScanner, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 16\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(UserProfileForm, {\n          onSubmit: handleProfileSubmit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 16\n        }, this);\n    }\n  };\n\n  // Animaci√≥n de transici√≥n entre vistas\n  const content = /*#__PURE__*/_jsxDEV(AnimatePresence, {\n    mode: \"wait\",\n    children: /*#__PURE__*/_jsxDEV(motion.div, {\n      initial: {\n        opacity: 0,\n        x: 10\n      },\n      animate: {\n        opacity: 1,\n        x: 0\n      },\n      exit: {\n        opacity: 0,\n        x: -10\n      },\n      transition: {\n        duration: .25\n      },\n      children: renderCurrentView()\n    }, currentView, false, {\n      fileName: _jsxFileName,\n      lineNumber: 454,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 453,\n    columnNumber: 5\n  }, this);\n\n  // Sin layout durante creaci√≥n inicial de perfil\n  if (currentView === 'profile') return content;\n  return /*#__PURE__*/_jsxDEV(AppLayout, {\n    currentView: currentView,\n    onSelectView: handleNavigation,\n    onLogout: logout,\n    isDarkMode: isDarkMode,\n    toggleDarkMode: toggleDarkMode,\n    children: [content, /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `fixed top-2 right-2 text-xs px-3 py-1 rounded-full font-medium ${isOnline ? 'bg-green-500 text-white' : 'bg-yellow-400 text-black'}`,\n      children: isOnline ? 'Online' : 'Offline'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 472,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 464,\n    columnNumber: 5\n  }, this);\n};\n\n// Componente contenedor que gestiona autenticaci√≥n y loading global\n_s(AuthenticatedApp, \"c/K0AxWEHG9D3464LAl7E7kNqMc=\", false, function () {\n  return [useAuth];\n});\n_c = AuthenticatedApp;\nconst App = () => {\n  _s2();\n  const {\n    isAuthenticated,\n    isLoading\n  } = useAuth();\n  const [showLoadingScreen, setShowLoadingScreen] = useState(true);\n\n  // Forzar splash m√≠nimo\n  useEffect(() => {\n    const timer = setTimeout(() => setShowLoadingScreen(false), 800);\n    return () => clearTimeout(timer);\n  }, []);\n  if (showLoadingScreen || isLoading) return /*#__PURE__*/_jsxDEV(LoadingScreen, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 488,\n    columnNumber: 46\n  }, this);\n  return isAuthenticated ? /*#__PURE__*/_jsxDEV(AuthenticatedApp, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 489,\n    columnNumber: 28\n  }, this) : /*#__PURE__*/_jsxDEV(AuthScreen, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 489,\n    columnNumber: 51\n  }, this);\n};\n\n// Envolver con AuthProvider en el punto de entrada real (index.js) o aqu√≠ si se desea\n_s2(App, \"x5MQQl1t5zzluaQxF1N2FI7ozqQ=\", false, function () {\n  return [useAuth];\n});\n_c2 = App;\nconst RootApp = () => /*#__PURE__*/_jsxDEV(AuthProvider, {\n  children: /*#__PURE__*/_jsxDEV(ToastProvider, {\n    children: /*#__PURE__*/_jsxDEV(App, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 496,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 495,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 494,\n  columnNumber: 3\n}, this);\n_c3 = RootApp;\nexport default RootApp;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"AuthenticatedApp\");\n$RefreshReg$(_c2, \"App\");\n$RefreshReg$(_c3, \"RootApp\");","map":{"version":3,"names":["React","useState","useEffect","motion","AnimatePresence","AuthProvider","useAuth","AuthScreen","LoadingScreen","UserProfileForm","Dashboard","HomeOverview","WorkoutPlan","NutritionPlan","ProgressTracker","FoodSelection","Chatbot","WeightTracker","MoodDiary","Report","RemindersManager","PhotoGallery","FoodScanner","Settings","FoodLog","AdminDashboard","testApiConnection","isUserAdmin","AppLayout","ToastProvider","flushQueue","calculateBMR","calculateDailyCalories","calculateMacros","doc","getDoc","setDoc","db","jsxDEV","_jsxDEV","window","AuthenticatedApp","_s","user","logout","isOnline","userProfile","setUserProfile","currentView","setCurrentView","recentWeights","setRecentWeights","dailyMacros","setDailyMacros","protein","carbs","fat","isDarkMode","setIsDarkMode","savedTheme","localStorage","getItem","selectedFoods","setSelectedFoods","isLoadingProfile","setIsLoadingProfile","document","documentElement","classList","add","setItem","remove","today","Date","toISOString","split","savedData","parsed","JSON","parse","meals","allFoods","Object","values","flat","macros","reduce","sum","food","loadUserProfile","userId","uid","id","savedProfile","profile","console","log","userDocRef","userDocSnap","exists","data","nombre","name","email","isProfileComplete","weight","height","age","goal","goalWeight","stringify","error","loadWeights","res","weightApi","list","success","normalized","map","r","_r$recorded_at","date","recorded_at","substring","weight_kg","filter","e","sort","a","b","slice","local","toggleDarkMode","handleProfileSubmit","profileData","bmr","gender","dailyCalories","activityLevel","profileWithUserId","createdAt","updatedAt","merge","peso","altura","objetivo","metaPeso","message","stack","fallbackProfile","handleUpdateProfile","updatedProfile","profileWithUpdates","handleNavigation","view","handleBackToDashboard","handleFoodSelectionComplete","foods","fileName","_jsxFileName","lineNumber","columnNumber","onLogout","renderCurrentView","onSubmit","initialData","dcal","onNavigate","onQuickAddWeight","onOpenScanner","onRecalculatePlan","onBack","onMacrosUpdate","onSelectFoods","onSaveProfile","content","mode","children","div","initial","opacity","x","animate","exit","transition","duration","onSelectView","className","_c","App","_s2","isAuthenticated","isLoading","showLoadingScreen","setShowLoadingScreen","timer","setTimeout","clearTimeout","_c2","RootApp","_c3","$RefreshReg$"],"sources":["C:/xampp/htdocs/FICTIA/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { AuthProvider, useAuth } from './contexts/AuthContext';\r\nimport AuthScreen from './components/AuthScreen';\r\nimport LoadingScreen from './components/LoadingScreen';\r\nimport UserProfileForm from './components/UserProfileForm';\r\nimport Dashboard from './components/Dashboard';\r\nimport HomeOverview from './components/HomeOverview';\r\nimport WorkoutPlan from './components/WorkoutPlan';\r\nimport NutritionPlan from './components/NutritionPlan';\r\nimport ProgressTracker from './components/ProgressTracker';\r\nimport FoodSelection from './components/FoodSelection';\r\nimport Chatbot from './components/Chatbot';\r\nimport WeightTracker from './components/WeightTracker';\r\nimport MoodDiary from './components/MoodDiary';\r\nimport Report from './components/Report';\r\nimport RemindersManager from './components/RemindersManager';\r\nimport PhotoGallery from './components/PhotoGallery';\r\nimport FoodScanner from './components/FoodScanner';\r\nimport Settings from './components/Settings';\r\nimport FoodLog from './components/FoodLog';\r\nimport AdminDashboard from './components/AdminDashboard';\r\nimport testApiConnection from './utils/testApi';\r\nimport { isUserAdmin } from './config/adminConfig'; // Configuraci√≥n de admins\r\nimport AppLayout from './layout/AppLayout';\r\nimport { ToastProvider } from './contexts/ToastContext';\r\nimport { flushQueue } from './utils/offlineQueue';\r\n// import { weightApi, moodApi, reminderApi } from './services/apiService'; // REMOVIDO - Migrado a Firebase\r\nimport { calculateBMR, calculateDailyCalories, calculateMacros } from './utils/calculations';\r\nimport './utils/fixGoalWeight'; // Script para corregir metas de peso il√≥gicas\r\nimport './utils/recalculateCalories'; // Script para recalcular calor√≠as y macros\r\nimport { doc, getDoc, setDoc } from 'firebase/firestore';\r\nimport { db } from './config/firebase';\r\n\r\n// Hacer la funci√≥n disponible globalmente para debug\r\nif (typeof window !== 'undefined') {\r\n  window.testApiConnection = testApiConnection;\r\n}\r\n\r\n// Componente principal de la aplicaci√≥n autenticada\r\nconst AuthenticatedApp = () => {\r\n  const { user, logout, isOnline } = useAuth();\r\n  // Sincronizar cola offline cuando volvemos online\r\n  // TODO: Migrar a Firebase\r\n  useEffect(()=> {\r\n    if (!isOnline || !user) return;\r\n    // (async () => {\r\n    //   await flushQueue({\r\n    //     'weight:add': async ({ weight, date }) => {\r\n    //       const r = await weightApi.add(weight); return r.success;\r\n    //     },\r\n    //     'mood:add': async ({ mood, note }) => {\r\n    //       const r = await moodApi.add(mood, note); return r.success;\r\n    //     },\r\n    //     'reminder:add': async ({ type, scheduledAt, message }) => {\r\n    //       const r = await reminderApi.add(type, scheduledAt, message); return r.success;\r\n    //     }\r\n    //   });\r\n    // })();\r\n  }, [isOnline, user]);\r\n  const [userProfile, setUserProfile] = useState(null);\r\n  const [currentView, setCurrentView] = useState('profile');\r\n  const [recentWeights, setRecentWeights] = useState([]);\r\n  const [dailyMacros, setDailyMacros] = useState({ protein: 0, carbs: 0, fat: 0 });\r\n  const [isDarkMode, setIsDarkMode] = useState(() => {\r\n    // Cargar preferencia de tema desde localStorage\r\n    const savedTheme = localStorage.getItem('snorxfit_theme');\r\n    return savedTheme === 'dark';\r\n  });\r\n  const [selectedFoods, setSelectedFoods] = useState({});\r\n  const [isLoadingProfile, setIsLoadingProfile] = useState(true);\r\n\r\n  useEffect(() => {\r\n    // Aplicar dark class al elemento html y guardar preferencia\r\n    if (isDarkMode) {\r\n      document.documentElement.classList.add('dark');\r\n      localStorage.setItem('snorxfit_theme', 'dark');\r\n    } else {\r\n      document.documentElement.classList.remove('dark');\r\n      localStorage.setItem('snorxfit_theme', 'light');\r\n    }\r\n  }, [isDarkMode]);\r\n\r\n  // Cargar macros del d√≠a actual desde localStorage\r\n  useEffect(() => {\r\n    const today = new Date().toISOString().split('T')[0];\r\n    const savedData = localStorage.getItem(`foodLog_${today}`);\r\n    if (savedData) {\r\n      const parsed = JSON.parse(savedData);\r\n      const meals = parsed.meals || {};\r\n      const allFoods = Object.values(meals).flat();\r\n      const macros = {\r\n        protein: allFoods.reduce((sum, food) => sum + (food.protein || 0), 0),\r\n        carbs: allFoods.reduce((sum, food) => sum + (food.carbs || 0), 0),\r\n        fat: allFoods.reduce((sum, food) => sum + (food.fat || 0), 0)\r\n      };\r\n      setDailyMacros(macros);\r\n    }\r\n  }, []);\r\n\r\n  // Cargar perfil del usuario desde la API\r\n  useEffect(() => {\r\n    const loadUserProfile = async () => {\r\n      try {\r\n        setIsLoadingProfile(true);\r\n\r\n        const userId = user.uid || user.id; // Firebase usa uid\r\n\r\n        if (!isOnline) {\r\n          // Fallback a localStorage si no hay internet\r\n          const savedProfile = localStorage.getItem(`snorxfit_profile_${userId}`);\r\n          if (savedProfile) {\r\n            const profile = JSON.parse(savedProfile);\r\n            setUserProfile(profile);\r\n            setCurrentView('home');\r\n          }\r\n          setIsLoadingProfile(false);\r\n          return;\r\n        }\r\n\r\n        // ‚úÖ Cargar perfil desde Firebase Firestore\r\n        console.log('üìä Cargando perfil desde Firebase Firestore...');\r\n        console.log('üîë User ID:', userId);\r\n        \r\n        const userDocRef = doc(db, 'users', userId);\r\n        const userDocSnap = await getDoc(userDocRef);\r\n        \r\n        if (userDocSnap.exists()) {\r\n          const profile = userDocSnap.data();\r\n          console.log('‚úÖ Perfil encontrado en Firebase:', {\r\n            nombre: profile.name,\r\n            email: profile.email,\r\n            uid: userId\r\n          });\r\n          \r\n          // Verificar si el perfil est√° COMPLETO (tiene los campos necesarios)\r\n          const isProfileComplete = profile.weight && profile.height && profile.age && profile.goal;\r\n          \r\n          console.log('üîç Verificaci√≥n de perfil:', {\r\n            weight: profile.weight,\r\n            height: profile.height,\r\n            age: profile.age,\r\n            goal: profile.goal,\r\n            goalWeight: profile.goalWeight,\r\n            isProfileComplete: isProfileComplete\r\n          });\r\n          \r\n          if (isProfileComplete) {\r\n            console.log('‚úÖ Perfil completo, cargando dashboard...');\r\n            setUserProfile(profile);\r\n            \r\n            // Guardar en localStorage como cach√©\r\n            localStorage.setItem(`snorxfit_profile_${userId}`, JSON.stringify(profile));\r\n            \r\n            setCurrentView('home');\r\n          } else {\r\n            console.log('‚ö†Ô∏è Perfil incompleto, mostrando formulario...');\r\n            console.log('‚ùå Campos faltantes:', {\r\n              weight: !profile.weight ? 'FALTA' : 'OK',\r\n              height: !profile.height ? 'FALTA' : 'OK',\r\n              age: !profile.age ? 'FALTA' : 'OK',\r\n              goal: !profile.goal ? 'FALTA' : 'OK'\r\n            });\r\n            setUserProfile(profile); // Guardar lo que hay para pre-llenar el form\r\n            setCurrentView('profile');\r\n          }\r\n        } else {\r\n          // Si no existe en Firebase, intentar cargar desde localStorage (usuario antiguo)\r\n          const savedProfile = localStorage.getItem(`snorxfit_profile_${userId}`);\r\n          if (savedProfile) {\r\n            const profile = JSON.parse(savedProfile);\r\n            const isProfileComplete = profile.weight && profile.height && profile.age && profile.goal;\r\n            \r\n            if (isProfileComplete) {\r\n              setUserProfile(profile);\r\n              setCurrentView('home');\r\n              console.log('üì± Perfil completo cargado desde localStorage');\r\n            } else {\r\n              setUserProfile(profile);\r\n              setCurrentView('profile');\r\n              console.log('üì± Perfil incompleto en localStorage, mostrando formulario');\r\n            }\r\n          } else {\r\n            console.log('üìù No hay perfil, mostrando formulario de creaci√≥n');\r\n            setCurrentView('profile');\r\n          }\r\n        }\r\n\r\n      } catch (error) {\r\n        console.error('Error cargando perfil:', error);\r\n        // Fallback a localStorage en caso de error\r\n        const userId = user.uid || user.id;\r\n        const savedProfile = localStorage.getItem(`snorxfit_profile_${userId}`);\r\n        if (savedProfile) {\r\n          const profile = JSON.parse(savedProfile);\r\n          setUserProfile(profile);\r\n          setCurrentView('home');\r\n        }\r\n      } finally {\r\n        setIsLoadingProfile(false);\r\n      }\r\n    };\r\n\r\n    if (user) {\r\n      loadUserProfile();\r\n    }\r\n  }, [user, isOnline]);\r\n\r\n  // Cargar pesos para HomeOverview\r\n  useEffect(()=>{\r\n    const loadWeights = async () => {\r\n      if (!user) return;\r\n      try {\r\n        if (isOnline) {\r\n          const res = await weightApi.list();\r\n          if (res.success) {\r\n            const normalized = (res.data || []).map(r => ({ date: r.recorded_at?.substring(0,10), weight: r.weight_kg })).filter(e => e.date && e.weight);\r\n            setRecentWeights(normalized.sort((a,b)=> new Date(a.date)-new Date(b.date)).slice(-120));\r\n            localStorage.setItem(`snorxfit_weights_${user.id}`, JSON.stringify(normalized));\r\n            return;\r\n          }\r\n        }\r\n        const local = localStorage.getItem(`snorxfit_weights_${user.id}`);\r\n        if (local) setRecentWeights(JSON.parse(local));\r\n      } catch {/* ignore */}\r\n    };\r\n    loadWeights();\r\n  }, [user, isOnline]);\r\n\r\n  const toggleDarkMode = () => {\r\n    setIsDarkMode(!isDarkMode);\r\n  };\r\n\r\n  const handleProfileSubmit = async (profileData) => {\r\n    try {\r\n      setIsLoadingProfile(true);\r\n\r\n      const userId = user.uid || user.id; // Firebase usa uid\r\n\r\n      console.log('üöÄ handleProfileSubmit iniciado');\r\n      console.log('üë§ User ID:', userId);\r\n      console.log('üåê isOnline:', isOnline);\r\n      console.log('üìù profileData recibido:', profileData);\r\n\r\n      // Calcular calor√≠as diarias basadas en BMR, actividad y objetivo\r\n      const bmr = calculateBMR(profileData.weight, profileData.height, profileData.age, profileData.gender);\r\n      const dailyCalories = calculateDailyCalories(bmr, profileData.activityLevel, profileData.goal);\r\n      const macros = calculateMacros(dailyCalories, profileData.weight, profileData.goal);\r\n\r\n      const profileWithUserId = {\r\n        ...profileData,\r\n        uid: userId,\r\n        email: user.email,\r\n        dailyCalories: dailyCalories, // Guardar calor√≠as calculadas\r\n        dailyMacros: macros, // Guardar macros calculados { protein, carbs, fat }\r\n        createdAt: new Date().toISOString(),\r\n        updatedAt: new Date().toISOString()\r\n      };\r\n\r\n      if (isOnline) {\r\n        // ‚úÖ Guardar en Firebase Firestore\r\n        console.log('üíæ Guardando perfil en Firebase Firestore...');\r\n        console.log('üì¶ Datos a guardar:', profileWithUserId);\r\n        \r\n        const userDocRef = doc(db, 'users', userId);\r\n        await setDoc(userDocRef, profileWithUserId, { merge: true });\r\n        \r\n        console.log('‚úÖ Perfil guardado exitosamente en Firebase:', {\r\n          nombre: profileWithUserId.name,\r\n          email: profileWithUserId.email,\r\n          peso: profileWithUserId.weight,\r\n          altura: profileWithUserId.height,\r\n          objetivo: profileWithUserId.goal,\r\n          metaPeso: profileWithUserId.goalWeight\r\n        });\r\n        \r\n        setUserProfile(profileWithUserId);\r\n        \r\n        // Tambi√©n guardar en localStorage como cach√©\r\n        localStorage.setItem(`snorxfit_profile_${userId}`, JSON.stringify(profileWithUserId));\r\n        \r\n      } else {\r\n        // Guardar solo en localStorage si no hay internet\r\n        console.log('üì± Guardando perfil en localStorage (sin internet)');\r\n        setUserProfile(profileWithUserId);\r\n        localStorage.setItem(`snorxfit_profile_${userId}`, JSON.stringify(profileWithUserId));\r\n      }\r\n\r\n      setCurrentView('foodSelection');\r\n\r\n    } catch (error) {\r\n      console.error('‚ùå‚ùå‚ùå ERROR CR√çTICO guardando perfil:', error);\r\n      console.error('‚ùå Error name:', error.name);\r\n      console.error('‚ùå Error message:', error.message);\r\n      console.error('‚ùå Error stack:', error.stack);\r\n      \r\n      const userId = user.uid || user.id;\r\n      // Fallback a localStorage en caso de error\r\n      const fallbackProfile = {\r\n        ...profileData,\r\n        uid: userId,\r\n        email: user.email,\r\n        createdAt: new Date().toISOString(),\r\n        updatedAt: new Date().toISOString()\r\n      };\r\n      \r\n      console.log('üì± Guardando en localStorage como fallback');\r\n      setUserProfile(fallbackProfile);\r\n      localStorage.setItem(`snorxfit_profile_${userId}`, JSON.stringify(fallbackProfile));\r\n      setCurrentView('foodSelection');\r\n    } finally {\r\n      setIsLoadingProfile(false);\r\n    }\r\n  };\r\n\r\n  // Funci√≥n para actualizar perfil (usado en Settings)\r\n  const handleUpdateProfile = async (updatedProfile) => {\r\n    try {\r\n      const userId = user.uid || user.id;\r\n      \r\n      // Recalcular calor√≠as diarias si cambi√≥ peso, altura, edad o objetivo\r\n      const bmr = calculateBMR(\r\n        updatedProfile.weight, \r\n        updatedProfile.height, \r\n        updatedProfile.age, \r\n        updatedProfile.gender\r\n      );\r\n      const dailyCalories = calculateDailyCalories(\r\n        bmr, \r\n        updatedProfile.activityLevel, \r\n        updatedProfile.goal\r\n      );\r\n      const macros = calculateMacros(dailyCalories, updatedProfile.weight, updatedProfile.goal);\r\n      \r\n      const profileWithUpdates = {\r\n        ...updatedProfile,\r\n        uid: userId,\r\n        email: user.email,\r\n        dailyCalories: dailyCalories, // Actualizar calor√≠as\r\n        dailyMacros: macros, // Actualizar macros\r\n        updatedAt: new Date().toISOString()\r\n      };\r\n\r\n      // Actualizar en Firebase\r\n      if (isOnline) {\r\n        console.log('üíæ Actualizando perfil en Firebase...');\r\n        const userDocRef = doc(db, 'users', userId);\r\n        await setDoc(userDocRef, profileWithUpdates, { merge: true });\r\n        console.log('‚úÖ Perfil actualizado en Firebase');\r\n      }\r\n\r\n      // Actualizar en memoria y localStorage\r\n      setUserProfile(profileWithUpdates);\r\n      localStorage.setItem(`snorxfit_profile_${userId}`, JSON.stringify(profileWithUpdates));\r\n      \r\n    } catch (error) {\r\n      console.error('‚ùå Error actualizando perfil:', error);\r\n      // Fallback a localStorage\r\n      const userId = user.uid || user.id;\r\n      setUserProfile(updatedProfile);\r\n      localStorage.setItem(`snorxfit_profile_${userId}`, JSON.stringify(updatedProfile));\r\n    }\r\n  };\r\n\r\n  const handleNavigation = (view) => {\r\n    setCurrentView(view);\r\n  };\r\n\r\n  const handleBackToDashboard = () => {\r\n  setCurrentView('home');\r\n  };\r\n\r\n  const handleFoodSelectionComplete = (foods) => {\r\n    setSelectedFoods(foods);\r\n  setCurrentView('home');\r\n  };\r\n\r\n  // Mostrar loading mientras se carga el perfil\r\n  if (isLoadingProfile) {\r\n    return <LoadingScreen />;\r\n  }\r\n\r\n  // Si el usuario es admin (verificar por email), mostrar panel de administrador\r\n  if (isUserAdmin(user)) {\r\n    return (\r\n      <AdminDashboard \r\n        userProfile={userProfile}\r\n        onLogout={logout}\r\n      />\r\n    );\r\n  }\r\n\r\n  const renderCurrentView = () => {\r\n    switch (currentView) {\r\n      case 'profile':\r\n        return (\r\n          <UserProfileForm \r\n            onSubmit={handleProfileSubmit} \r\n            initialData={userProfile}\r\n          />\r\n        );\r\n      case 'home': {\r\n        // Usar calor√≠as y macros guardados en el perfil\r\n        const dcal = userProfile?.dailyCalories || 0;\r\n        const macros = userProfile?.dailyMacros || { protein: 0, carbs: 0, fat: 0 };\r\n        \r\n        return (\r\n          <HomeOverview\r\n            userProfile={userProfile}\r\n            recentWeights={recentWeights}\r\n            dailyCalories={dcal}\r\n            dailyMacros={macros}\r\n            onNavigate={handleNavigation}\r\n            onQuickAddWeight={() => handleNavigation('weightTracker')}\r\n            onOpenScanner={() => handleNavigation('foodScanner')}\r\n            onRecalculatePlan={() => handleNavigation('nutrition')}\r\n          />\r\n        );\r\n      }\r\n      case 'workout':\r\n        return <WorkoutPlan userProfile={userProfile} onBack={handleBackToDashboard} />;\r\n      case 'nutrition':\r\n        return <NutritionPlan userProfile={userProfile} onBack={handleBackToDashboard} selectedFoods={selectedFoods} />;\r\n      case 'chatbot':\r\n        return <Chatbot onBack={handleBackToDashboard} />;\r\n      case 'foodLog':\r\n        return <FoodLog userProfile={userProfile} onBack={handleBackToDashboard} onMacrosUpdate={setDailyMacros} />;\r\n      case 'report':\r\n        return <Report userProfile={userProfile} recentWeights={recentWeights} />;\r\n      case 'progress':\r\n        return <ProgressTracker userProfile={userProfile} onBack={handleBackToDashboard} />;\r\n      case 'foodSelection':\r\n        return <FoodSelection onBack={handleBackToDashboard} onSelectFoods={handleFoodSelectionComplete} />;\r\n      case 'weightTracker':\r\n        return <WeightTracker userProfile={userProfile} onBack={handleBackToDashboard} />;\r\n      case 'settings':\r\n        return <Settings userProfile={userProfile} onBack={handleBackToDashboard} onSaveProfile={handleUpdateProfile} />;\r\n      case 'moodDiary':\r\n        return <MoodDiary />;\r\n      case 'photos':\r\n        return <PhotoGallery />;\r\n      case 'reminders':\r\n        return <RemindersManager />;\r\n      case 'foodScanner':\r\n        return <FoodScanner />;\r\n      default:\r\n        return <UserProfileForm onSubmit={handleProfileSubmit} />;\r\n    }\r\n  };\r\n\r\n  // Animaci√≥n de transici√≥n entre vistas\r\n  const content = (\r\n    <AnimatePresence mode=\"wait\">\r\n      <motion.div key={currentView} initial={{ opacity:0, x:10}} animate={{ opacity:1, x:0}} exit={{ opacity:0, x:-10}} transition={{ duration:.25}}>\r\n        {renderCurrentView()}\r\n      </motion.div>\r\n    </AnimatePresence>\r\n  );\r\n\r\n  // Sin layout durante creaci√≥n inicial de perfil\r\n  if (currentView === 'profile') return content;\r\n\r\n  return (\r\n    <AppLayout\r\n      currentView={currentView}\r\n      onSelectView={handleNavigation}\r\n      onLogout={logout}\r\n      isDarkMode={isDarkMode}\r\n      toggleDarkMode={toggleDarkMode}\r\n    >\r\n      {content}\r\n      <div className={`fixed top-2 right-2 text-xs px-3 py-1 rounded-full font-medium ${isOnline ? 'bg-green-500 text-white':'bg-yellow-400 text-black'}`}>{isOnline ? 'Online' : 'Offline'}</div>\r\n    </AppLayout>\r\n  );\r\n};\r\n\r\n// Componente contenedor que gestiona autenticaci√≥n y loading global\r\nconst App = () => {\r\n  const { isAuthenticated, isLoading } = useAuth();\r\n  const [showLoadingScreen, setShowLoadingScreen] = useState(true);\r\n\r\n  // Forzar splash m√≠nimo\r\n  useEffect(() => {\r\n    const timer = setTimeout(()=> setShowLoadingScreen(false), 800);\r\n    return () => clearTimeout(timer);\r\n  }, []);\r\n\r\n  if (showLoadingScreen || isLoading) return <LoadingScreen />;\r\n  return isAuthenticated ? <AuthenticatedApp /> : <AuthScreen />;\r\n};\r\n\r\n// Envolver con AuthProvider en el punto de entrada real (index.js) o aqu√≠ si se desea\r\nconst RootApp = () => (\r\n  <AuthProvider>\r\n    <ToastProvider>\r\n      <App />\r\n    </ToastProvider>\r\n  </AuthProvider>\r\n);\r\n\r\nexport default RootApp;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}